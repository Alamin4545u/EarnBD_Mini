<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Monetag Reward Pro</title>
    
    <!-- Monetag SDK -->
    <script src='//libtl.com/sdk.js' data-zone='10197154' data-sdk='show_10197154'></script>
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --accent: #ffd700; --bg: #0d1117; --green: #238636; --blue: #58a6ff; }
        body { background: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; display: flex; align-items: center; justify-content: center; height: 100vh; overflow: hidden; }
        .container { width: 85%; max-width: 350px; background: #161b22; border-radius: 20px; padding: 40px 20px; text-align: center; border: 1px solid #30363d; box-shadow: 0 10px 50px rgba(0,0,0,0.8); }
        .badge { background: linear-gradient(90deg, #ffd700, #ff8c00); color: black; padding: 5px 15px; border-radius: 50px; font-size: 11px; font-weight: bold; margin-bottom: 20px; display: inline-block; }
        #timer { font-size: 80px; font-weight: 800; color: var(--accent); margin: 10px 0; }
        .status { color: var(--blue); font-size: 14px; margin-bottom: 25px; height: 20px; font-weight: 500; }
        .stats-box { background: #0d1117; padding: 20px; border-radius: 15px; border: 1px solid #30363d; }
        .imp-val { font-size: 36px; font-weight: bold; color: var(--green); display: block; }
        .imp-label { font-size: 10px; color: #8b949e; text-transform: uppercase; letter-spacing: 1px; }
        .btn-start { background: var(--green); color: white; border: none; padding: 18px; border-radius: 12px; font-weight: bold; cursor: pointer; width: 100%; font-size: 18px; box-shadow: 0 4px 15px rgba(35, 134, 54, 0.4); }
    </style>
</head>
<body>

    <div class="container">
        <div id="setup-screen">
            <div class="badge">PREMIUM REWARD MODE</div>
            <h1 style="margin-bottom: 10px;">Max Earning</h1>
            <p style="color: #8b949e; font-size: 14px; margin-bottom: 30px;">This bot triggers High-CPM Rewarded Interstitial ads automatically.</p>
            <button class="btn-start" onclick="startRewardEngine()">START EARNING</button>
        </div>

        <div id="work-screen" style="display: none;">
            <div id="timer">3</div>
            <div class="status" id="status-msg">Preparing high-value ad...</div>
            <div class="stats-box">
                <span class="imp-val" id="count-display">0</span>
                <span class="imp-label">Total Reward Impressions</span>
            </div>
        </div>
    </div>

    <script>
        const tele = window.Telegram.WebApp;
        tele.expand(); // à¦Ÿà§‡à¦²à¦¿à¦—à§à¦°à¦¾à¦®à§‡ à¦«à§à¦² à¦¸à§à¦•à§à¦°à¦¿à¦¨ à¦•à¦°à¦¬à§‡

        let impCount = localStorage.getItem('reward_imp_count') || 0;
        document.getElementById('count-display').innerText = impCount;

        function startRewardEngine() {
            // à¦‡à¦žà§à¦œà¦¿à¦¨ à¦°à¦¾à¦¨à¦¿à¦‚ à¦¸à§à¦Ÿà§‡à¦Ÿ à¦¸à§‡à¦­ à¦•à¦°à¦¾
            localStorage.setItem('engine_running', 'true');
            document.getElementById('setup-screen').style.display = 'none';
            document.getElementById('work-screen').style.display = 'block';
            
            let timeLeft = 3;
            const timerEl = document.getElementById('timer');
            const statusEl = document.getElementById('status-msg');

            const countdown = setInterval(() => {
                timeLeft--;
                timerEl.innerText = timeLeft;

                if (timeLeft <= 0) {
                    clearInterval(countdown);
                    statusEl.innerText = "ðŸš€ Requesting Rewarded Ad...";
                    statusEl.style.color = "#ffd700";
                    callRewardAd();
                }
            }, 1000);
        }

        function callRewardAd() {
            // à§§. à¦¶à§à¦§à§à¦®à¦¾à¦¤à§à¦° Rewarded Interstitial à¦•à¦² à¦•à¦°à¦¾
            if (typeof show_10197154 === 'function') {
                show_10197154().then(() => {
                    // à¦¯à¦¦à¦¿ à¦‡à¦‰à¦œà¦¾à¦° à¦…à§à¦¯à¦¾à¦¡ à¦¦à§‡à¦–à¦¾ à¦¶à§‡à¦· à¦•à¦°à§‡ à¦•à§à¦²à§‹à¦œ à¦•à¦°à§‡
                    saveAndNext();
                }).catch((e) => {
                    console.log("Ad error or blocked");
                    setTimeout(saveAndNext, 3000); // à¦à¦°à¦° à¦¹à¦²à§‡ à§© à¦¸à§‡à¦•à§‡à¦¨à§à¦¡ à¦ªà¦° à¦°à¦¿à¦²à§‹à¦¡
                });
            }

            // à§¨. Force Reload Logic (à¦…à§à¦¯à¦¾à¦¡ à¦•à§à¦²à§‹à¦œ à¦¨à¦¾ à¦•à¦°à¦²à§‡à¦“ à§§à§« à¦¸à§‡à¦•à§‡à¦¨à§à¦¡ à¦ªà¦° à¦°à¦¿à¦«à§à¦°à§‡à¦¶ à¦¹à¦¬à§‡)
            // à¦à¦Ÿà¦¿ à¦†à¦ªà¦¨à¦¾à¦° "à¦…à§à¦¯à¦¾à¦¡ à¦•à§à¦²à§‹à¦œ à¦¹à§Ÿ à¦¨à¦¾" à¦¸à¦®à¦¸à§à¦¯à¦¾à¦° à¦¸à¦®à¦¾à¦§à¦¾à¦¨à¥¤ 
            // à§§à§« à¦¸à§‡à¦•à§‡à¦¨à§à¦¡ à¦°à¦¾à¦–à¦¾ à¦¹à§Ÿà§‡à¦›à§‡ à¦¯à¦¾à¦¤à§‡ Monetag à¦‡à¦®à§à¦ªà§à¦°à§‡à¦¶à¦¨à¦Ÿà¦¿ à¦•à¦¾à¦‰à¦¨à§à¦Ÿ à¦•à¦°à¦¾à¦° à¦¸à¦®à§Ÿ à¦ªà¦¾à§Ÿà¥¤
            setTimeout(() => {
                saveAndNext();
            }, 15000); 
        }

        function saveAndNext() {
            // à¦‡à¦®à§à¦ªà§à¦°à§‡à¦¶à¦¨ à¦¸à¦‚à¦–à§à¦¯à¦¾ à¦¬à¦¾à§œà¦¾à¦¨à§‹
            let current = parseInt(localStorage.getItem('reward_imp_count') || 0);
            localStorage.setItem('reward_imp_count', current + 1);
            
            // à¦Ÿà§‡à¦²à¦¿à¦—à§à¦°à¦¾à¦® à¦­à¦¾à¦‡à¦¬à§à¦°à§‡à¦¶à¦¨
            if (tele.HapticFeedback) tele.HapticFeedback.notificationOccurred('success');
            
            // à¦ªà§‡à¦œ à¦°à¦¿à¦«à§à¦°à§‡à¦¶ (à¦à¦Ÿà¦¿ à¦²à§à¦ª à¦¬à¦œà¦¾à§Ÿ à¦°à¦¾à¦–à¦¬à§‡ à¦à¦¬à¦‚ à¦¸à§à¦•à§à¦°à¦¿à¦¨ à¦•à§à¦²à¦¿à¦¨ à¦•à¦°à¦¬à§‡)
            location.reload();
        }

        // à¦…à¦Ÿà§‹-à¦¸à§à¦Ÿà¦¾à¦°à§à¦Ÿ à¦²à¦œà¦¿à¦• (à¦ªà§‡à¦œ à¦°à¦¿à¦«à§à¦°à§‡à¦¶ à¦¹à¦“à§Ÿà¦¾à¦° à¦ªà¦° à¦…à¦Ÿà§‹à¦®à§‡à¦Ÿà¦¿à¦• à¦¶à§à¦°à§ à¦¹à¦¬à§‡)
        window.onload = () => {
            if (localStorage.getItem('engine_running') === 'true') {
                startRewardEngine();
            }
        };
    </script>
</body>
</html>
